<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Models - My Odoo Documentation</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">My Odoo Documentation</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Setup</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../setup/install/" class="dropdown-item">Setting Up Odoo with Docker</a>
</li>
                                    
<li>
    <a href="../../setup/firsttimeuse/" class="dropdown-item">First-Time Setup</a>
</li>
                                    
<li>
    <a href="../../setup/vscsetup/" class="dropdown-item">Visual Studio Code Integration</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Add-ons and Modules</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../intro/" class="dropdown-item">Introduction to Add-ons and Modules</a>
</li>
                                    
<li>
    <a href="../scaffolding/" class="dropdown-item">Creating (Scaffolding) an Add-on</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Models</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../scaffolding/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" class="nav-link disabled">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#models" class="nav-link">Models</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#the-__init__py-file" class="nav-link">The __init__.py file</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#defining-models" class="nav-link">Defining Models</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#checking-models" class="nav-link">Checking Models</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="models">Models</h1>
<p>In this context, models represent the structure of the tables in the database. This is the same as doing <code>CREATE TABLE ... (attr type())</code> in SQL. Many frameworks as of this writing have a way to define the models in code and let the framework do the heavylifting of actualizing the tables you hardcoded into the database.</p>
<p>In the previous section, scaffolding already did the heavy work of setting up our directories and Python files and manifests. So let's start defining and tweaking these boilerplate code to our liking, starting with our models.</p>
<p>From this point, we'll be focusing on the <code>models</code> folder located in the root of our model directory</p>
<h2 id="the-__init__py-file">The <code>__init__.py</code> file</h2>
<p>In its pure boilerplate state, the contents of this file is as follows:</p>
<pre><code class="language-python"># -*- coding: utf-8 -*-

from . import models
</code></pre>
<p>Currently, it is importing the <code>models.py</code> file (yes, without the need for the <code>.py</code> extension). While we can define all of our models in one file, you can have it by convention of modularizing all your models by separate Python files.</p>
<p>For instance, if I want to create a model for a student and a teacher with <code>student.py</code> and <code>teacher.py</code> files in the models directory, then the <code>__init__.py</code> file would be:</p>
<pre><code class="language-python">from . import student
from . import teacher
</code></pre>
<h2 id="defining-models">Defining Models</h2>
<p>For the sake of documentation, we will have our hands-on on the already made <code>models.py</code> file in the directory.</p>
<p>The contents of the file are already commented and structured for you to get started and understand the convention of defining attributes for a model (or an entity) in our database, as shown here in this sample snippet (for example, when I scaffold a <code>teacher</code> model):</p>
<pre><code class="language-python"># -*- coding: utf-8 -*-

# from odoo import models, fields, api


# class teacher(models.Model):
#     _name = 'teacher.teacher'
#     _description = 'teacher.teacher'

#     name = fields.Char()
#     value = fields.Integer()
#     value2 = fields.Float(compute=&quot;_value_pc&quot;, store=True)
#     description = fields.Text()
#
#     @api.depends('value')
#     def _value_pc(self):
#         for record in self:
#             record.value2 = float(record.value) / 100
</code></pre>
<p>Here's a breakdown of this snippet, which will be the basis of making models in Odoo, <em>more-or-less</em>:</p>
<ul>
<li>
<p><strong><code>class teacher(models.Model):</code></strong> - Syntax for defining a model, where <code>teacher</code> is the name of such model. The rest are constant and are fixed.</p>
</li>
<li>
<p><strong><code>_name</code></strong> - Name of the model. With the parameter you named when you scaffolded for a model, that is the first part of the name followed by the name of the entity relevant to this module <em>(<code>teacher</code> is the name of our module, <code>teacher</code> is the name of the entity within this module, so <code>teacher.teacher</code>.)</em>'</p>
</li>
<li>
<p><strong>_<code>description</code></strong> - Description of the model. This appears in Odoo under <strong>Menu &gt; Settings &gt; Technical &gt; Database Structure &gt; Models</strong> (which will be discussed later!)
<img alt="Screenshot" src="../../img/modeldescshow.png" /></p>
</li>
</ul>
<p>The rest of the code are the attributes. They follow a pattern of syntax as follows:</p>
<pre><code>&lt;attribute_name&gt; = fields.&lt;type&gt;(&lt;options&gt;)
</code></pre>
<p><strong><a href="https://odoo-development.readthedocs.io/en/latest/dev/py/fields.html">A comprehensive list of field types are available here in Odoo's official documentation</a></strong></p>
<p><strong><a href="https://odoo-new-api-guide-line.readthedocs.io/en/latest/fields.html">Also here for the complete list of &lt;options&gt;</a></strong></p>
<p>Here's an example of attributes that can be related to our teacher entity, for example:</p>
<pre><code class="language-python">name = fields.Char(string=&quot;First Name&quot;, required=True)
gender = fields.Selection([('male', 'Male'), ('female'), ('Female')]) # did not hardcode 'required=True', which means this attribute is optional
birthdate = fields.Date(string=&quot;Birthdate&quot;)
years_of_experience = fields.Integer(string=&quot;Years of Experience&quot;)
salary = fields.Float(string=&quot;Salary&quot;, digits=(10, 2), required=True)
</code></pre>
<h2 id="checking-models">Checking Models</h2>
<p>For every edit you do in your add-ons, restarting Odoo is a must if you want to see your changes in your Odoo instance. This can be achieved in the terminal:</p>
<pre><code class="language-bash">docker stop odoo
docker start -a odoo
</code></pre>
<p>Afterwards, it is necessary to <strong>upgrade</strong> your module to reflect the changes made.
<img alt="Screenshot" src="../../img/upgrademodule.gif" /></p>
<p>The upgrade is successful if it takes a while before reloading you back to the Discuss page (or whichever is the default landing page in the Dashboard). A modal will be shown with an error log if it fails.</p>
<p>Afterwards, you navigate to <strong>Menu &gt; Settings &gt; Technical &gt; Database Structure &gt; Models</strong> and search for your add-on or model name.
<img alt="Screenshot" src="../../img/tomodels.png" />
<img alt="Screenshot" src="../../img/modeldescshow.png" /></p>
<p>Clicking on a model will also have a list of all the attributes you have supposedly defined, alongside with attributes that Odoo automatically adds:
<img alt="Screenshot" src="../../img/onemodelview.png" /></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
